<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sliding Gallery</title>

    <style>
      :root {
        --bg: #070b14;
        --cardW: 280px;
        --cardH: 380px;
        --radius: 18px;

        /* distance from center to left/right card centers */
        --spread: 360px;

        /* animation feel */
        --speed: 85; /* px per second, higher = faster */
        --blurEdges: 18px;
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; margin: 0; }

      body {
        background:
          radial-gradient(900px 520px at 50% 32%, rgba(90,110,170,0.22), transparent 60%),
          linear-gradient(180deg, #050713, var(--bg));
        color: white;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
        overflow: hidden;
        display: grid;
        place-items: center;
      }

      .stage {
        width: min(1200px, 96vw);
        height: calc(var(--cardH) + 90px);
        position: relative;
        display: grid;
        place-items: center;
      }

      /* soft edge vignettes so cards "disappear" nicely */
      .stage::before,
      .stage::after {
        content: "";
        position: absolute;
        top: 0;
        height: 100%;
        width: 22%;
        z-index: 5;
        pointer-events: none;
      }
      .stage::before {
        left: 0;
        background: linear-gradient(90deg, rgba(5,7,12,0.98), rgba(5,7,12,0));
      }
      .stage::after {
        right: 0;
        background: linear-gradient(270deg, rgba(5,7,12,0.98), rgba(5,7,12,0));
      }

      .track {
        position: relative;
        width: 100%;
        height: 100%;
      }

      .card {
        position: absolute;
        top: 50%;
        left: 50%;
        width: var(--cardW);
        height: var(--cardH);
        border-radius: var(--radius);
        overflow: hidden;
        transform-origin: center center;
        will-change: transform, opacity, filter;

        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(255,255,255,0.06);
        box-shadow:
          0 30px 90px rgba(0,0,0,0.55),
          0 2px 0 rgba(255,255,255,0.06) inset;
      }

      .card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .label {
        position: absolute;
        left: 12px;
        right: 12px;
        bottom: 12px;
        padding: 10px 12px;
        border-radius: 14px;
        background: rgba(0,0,0,0.45);
        border: 1px solid rgba(255,255,255,0.12);
        backdrop-filter: blur(10px);
        text-align: center;
        font-weight: 700;
        font-size: 14px;
        letter-spacing: 0.2px;
      }

      .hint {
        position: fixed;
        bottom: 14px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 12px;
        opacity: 0.65;
        user-select: none;
      }

      @media (max-width: 760px) {
        :root {
          --cardW: 220px;
          --cardH: 300px;
          --spread: 280px;
        }
      }
    </style>
  </head>

  <body>
    <div class="stage" id="stage">
      <div class="track" id="track"></div>
    </div>

    <div class="hint">click anywhere to pause / play</div>

    <script>
      // =====================
      // 1) PUT YOUR IMAGES HERE
      // =====================
      // If you upload images to the repo, use: src: "images/yourfile.jpg"
      const slides = [ {
            name: "Alton C. Rowe, Sr.",
            years: "1911 â€“ 1933",
            src: "images/Alton Rowe Sr.JPEG",
            },
      ];

      // =====================
      // 2) CONTINUOUS LOOP SETTINGS
      // =====================
      const track = document.getElementById("track");
      const stage = document.getElementById("stage");

      // how many physical cards exist in the loop (more = smoother)
      const CARD_COUNT = Math.max(slides.length, 7);

      // spacing between card centers (px)
      let spacing = 320;

      // speed in px/sec (uses CSS var --speed as default)
      let speed = Number(getComputedStyle(document.documentElement).getPropertyValue("--speed")) || 85;

      // computed from stage width so they exit offscreen nicely
      function getExitX() {
        const rect = stage.getBoundingClientRect();
        // add extra margin so fully off-screen + behind vignette
        return rect.width / 2 + spacing * 1.2;
      }

      // Create cards
      const cards = [];
      for (let i = 0; i < CARD_COUNT; i++) {
        const slide = slides[i % slides.length];

        const el = document.createElement("div");
        el.className = "card";

        const img = document.createElement("img");
        img.src = slide.src;
        img.alt = slide.name;

        const label = document.createElement("div");
        label.className = "label";
        label.textContent = slide.name;

        el.appendChild(img);
        el.appendChild(label);
        track.appendChild(el);

        cards.push({ el, slideIndex: i % slides.length, x: 0 });
      }

      // init positions (spread left to right)
      function resetPositions() {
        // adapt spacing a bit to responsive size
        const rect = stage.getBoundingClientRect();
        spacing = Math.min(360, Math.max(250, rect.width / 3.2));

        // start them from left exit to right exit evenly
        const exitX = getExitX();
        const totalSpan = (CARD_COUNT - 1) * spacing;
        const startX = -exitX - totalSpan * 0.15; // extra lead-in

        for (let i = 0; i < cards.length; i++) {
          cards[i].x = startX + i * spacing;
        }
      }

      // helpers for scaling/opacity based on distance to center
      function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }

      function computeStyleFromX(x, exitX) {
        // x is relative to center; 0 = center
        const t = 1 - clamp(Math.abs(x) / exitX, 0, 1); // 1 at center, 0 at edges

        // Smooth curve: favor center growth
        const ease = t * t * (3 - 2 * t); // smoothstep

        const scale = 0.78 + ease * 0.42; // 0.78..1.20
        const opacity = 0.15 + ease * 0.85; // 0.15..1
        return { scale, opacity, z: Math.round(ease * 1000) };
      }

      let last = performance.now();
      let paused = false;

      function tick(now) {
        const dt = (now - last) / 1000;
        last = now;

        const exitX = getExitX();

        if (!paused) {
          // move right continuously
          for (const c of cards) {
            c.x += speed * dt;

            // when fully off to the right, wrap to far left and advance its image
            if (c.x > exitX + spacing) {
              // find current minimum x to place behind it
              let minX = Infinity;
              for (const k of cards) minX = Math.min(minX, k.x);
              c.x = minX - spacing;

              // rotate to next slide for variety
              c.slideIndex = (c.slideIndex + cards.length) % slides.length;
              const slide = slides[c.slideIndex];
              c.el.querySelector("img").src = slide.src;
              c.el.querySelector("img").alt = slide.name;
              c.el.querySelector(".label").textContent = slide.name;
            }
          }
        }

        // apply transforms
        for (const c of cards) {
          const { scale, opacity, z } = computeStyleFromX(c.x, exitX);

          c.el.style.zIndex = String(z);
          c.el.style.opacity = String(opacity);

          // translate from center: left:50% top:50% anchor
          c.el.style.transform =
            `translate(calc(-50% + ${c.x}px), -50%) scale(${scale})`;
        }

        requestAnimationFrame(tick);
      }

      // pause/play on click for TV ease
      stage.addEventListener("click", () => {
        paused = !paused;
      });

      // keep layout correct on resize
      window.addEventListener("resize", () => resetPositions());

      resetPositions();
      requestAnimationFrame(tick);
    </script>
  </body>
</html>
